/**
* Generated by khanhnt at 2013/12/20 17:18:01
*
* Copyright (C) 2009 eXo Platform SAS.
*
* This is free software; you can redistribute it and/or modify it
* under the terms of the GNU Lesser General Public License as
* published by the Free Software Foundation; either version 2.1 of
* the License, or (at your option) any later version.
*
* This software is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
* Lesser General Public License for more details.
*
* You should have received a copy of the GNU Lesser General Public
* License along with this software; if not, write to the Free
* Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
* 02110-1301 USA, or see the FSF site: http://www.fsf.org.
*/

package org.exoplatform.selenium.platform.plf.functional.homepageactivitystream.activitystream.activityfilter;

import static org.exoplatform.selenium.TestLogger.info;

import org.exoplatform.selenium.Utils;
import org.exoplatform.selenium.platform.HomePageActivity;
import org.exoplatform.selenium.platform.ManageAccount;
import org.exoplatform.selenium.platform.NavigationToolbar;
import org.exoplatform.selenium.platform.ManageAccount.userType;
import org.exoplatform.selenium.platform.social.Activity;
import org.exoplatform.selenium.platform.social.ManageMember;
import org.exoplatform.selenium.platform.social.PeopleConnection;
import org.exoplatform.selenium.platform.social.SpaceManagement;
import org.openqa.selenium.By;
import org.testng.annotations.*;

	/**
	* @author khanhnt
	*
	*/
	public class PLF_HomepageActivityStream_ActivityStream_ActivityFilter_MyActivities extends Activity{

		ManageAccount acc; 
		HomePageActivity home;
		NavigationToolbar nav; 
		PeopleConnection pConn; 
		ManageMember mMember; 
		String user = "John Smith";
		String user1= "Jack Miller";	
		SpaceManagement spaceMan;
		@BeforeMethod
		public void beforeMethods(){	
			initSeleniumTest();
			driver.get(baseUrl);
			acc = new ManageAccount(driver,this.plfVersion);
			home = new HomePageActivity(driver,this.plfVersion);
			nav = new NavigationToolbar(driver,this.plfVersion);	
			pConn = new PeopleConnection(driver,this.plfVersion);
			mMember = new ManageMember(driver,this.plfVersion);
			spaceMan = new SpaceManagement(driver,this.plfVersion);
			acc.signIn(DATA_USER1, DATA_PASS);		
		}

		@AfterMethod
		public void afterMethods() {
			info("Logout portal");
			driver.manage().deleteAllCookies();
			driver.quit();
		}


	/**
	* Case ID:77666.
	* Test Case Name: Mention from comment on Home should push activity in "My Activities" of the mentioned user.
	* Pre-Condition: 
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=3)
	public  void test01_MentionFromCommentOnHomeShouldPushActivityInMyActivitiesOfTheMentionedUser() {
		info("Test 1: Mention from comment on Home should push activity in My Activities of the mentioned user");
		String text = "New Activity";
		/*
		- Connect to Intranet/Homepage with User A
		- From the stream "All activities", add a comment in activity and mention the User B
		*Input Data: 
		*Expected Outcome: The comment is added in the activity stream "All activities"		*/
		
		addActivity(true, text, false, "");
		mentionActivity(false,text,user1);
		/*
		- Connect to Intranet/Homepage with User B
		- Open the stream "My activities"
		*Input Data: 
		*Expected Outcome: Tha activity where the user A has mentioned the user B is displayed in the stream
		* "My activities" of the user B		*/ 
		acc.signOut();
		acc.signIn(DATA_USER4, DATA_PASS);
		selectFileter("My Activities");
		waitForAndGetElement(ELEMENT_USER_NAME_LINK_COMMENT.replace("${activityText}", text).replace("${userName}", user1));
		
		//remove data
		acc.signOut();
		acc.signIn(DATA_USER1, DATA_PASS);
		home.deleteActivity(text);
 	}

	/**
	* Case ID:77667.
	* Test Case Name: Mention from home should push the activity in "My Activities" of the mentioned user.
	* Pre-Condition: 
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=4)
	public  void test02_MentionFromHomeShouldPushTheActivityInMyActivitiesOfTheMentionedUser() {
		info("Test 2: Mention from home should push the activity in My Activities of the mentioned user");
		/*
		- Connect to Intranet/Homepage with User A
		- From the stream "All activities", Post an activity and mention the User B
		*Input Data: 
		*Expected Outcome: The activity is added in the activity stream "All activities"		*/
		mentionActivity(true,"",user1);
		Utils.pause(3000);
		waitForAndGetElement(ELEMENT_USER_MENTION_BY_OTHER_USER.replace("${author}",user).replace("${userName}", user1));

		/*
		- Connect to Intranet/Homepage with User B
		- Open the stream "My activities"
		*Input Data: 
		*Expected Outcome: Tha activity where the user A has mentioned the user B 
		*is displayed in the stream "My activities" of the user B		*/ 
		acc.signOut();
		acc.signIn(DATA_USER4, DATA_PASS);
		selectFileter("My Activities");
		waitForAndGetElement(ELEMENT_USER_MENTION_BY_OTHER_USER.replace("${author}",user).replace("${userName}", user1));
		
		//remove data
		acc.signOut();
		acc.signIn(DATA_USER1, DATA_PASS);
		home.deleteActivity(user1,true,false);
 	}

	/**
	* Case ID:77669.
	* Test Case Name: Mention a member in comment from a space should push activity in "My Activities" of the member.
	* Pre-Condition: 
	- User A and User B are member in the same space
	- There's an activity on space
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=5)
	public  void test03_MentionAMemberInCommentFromASpaceShouldPushActivityInMyActivitiesOfTheMember() {
		info("Test 3: Mention a member in comment from a space should push activity in My Activities of the member");
		String text = "Test 3 New Activity";
		String spaceName = "space77669";
		/*
		- Connect to Intranet/Homepage with User A
		- Open the space "Test"
		- In activity in the stream, add a comment in activity which mentioned the User B
		*Input Data: 
		*Expected Outcome: The comment is added for the activity and the User B is mentioned		*/
		mMember.goToMySpacePage();
		mMember.addNewSpace(spaceName,"");
		goToMembers(spaceName);
		mMember.inviteSingleUser(userType.DEVELOPER);
		//mMember.inviteSingleUser(DATA_USER2);
		spaceMan.goToSpaceMenu("Activity Stream");
		addActivity(true, text, false, "");
		mentionActivity(false,text,user1);
		acc.signOut();

		/*
		- Connect to Intranet/Homepage with User B
		- Open the stream [My activities]
		*Input Data: 
		*Expected Outcome: Tha activity where the user A has mentioned the user B is displayed in the stream "My activities" of the user B		*/ 
		
		acc.signIn(DATA_USER4, DATA_PASS);
		mMember.goToMySpacePage();
		mMember.acceptInvitation(spaceName);
		nav.goToHomePage();
		selectFileter("My Activities");
		waitForAndGetElement(ELEMENT_USER_NAME_LINK_COMMENT.replace("${activityText}", text).replace("${userName}", user1));
		
		//remove data
		acc.signOut();
		acc.signIn(DATA_USER1, DATA_PASS);
		mMember.goToAllSpaces();
		mMember.deleteSpace(spaceName);
 	}

	/**
	* Case ID:77670.
	* Test Case Name: Mention a member from a space should push the activity in "My Activities" of the member.
	* Pre-Condition: User A and User B are member in the same space
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=6)
	public  void test04_MentionAMemberFromASpaceShouldPushTheActivityInMyActivitiesOfTheMember() {
		info("Test 4: Mention a member from a space should push the activity in My Activities of the member");
		String spaceName = "space77670";
		mMember.goToMySpacePage();
		mMember.addNewSpace(spaceName,"");
		goToMembers(spaceName);
		mMember.inviteSingleUser(userType.DEVELOPER);
		spaceMan.goToSpaceMenu("Activity Stream");
		/*
		- Connect to Intranet/Homepage with User A
		- Open the space "Test"
		- Post and activity where User B is mentioned
		*Input Data: 
		*Expected Outcome: The activity is added to the stream of the space and the User B is mentioned		*/
	
		mentionActivity(true,"",user1);
		acc.signOut();

		/*
		- Connect to Intranet/Homepage with User B
		- Open the stream "My activities"
		*Input Data: 
		*Expected Outcome: Tha activity where the user A has mentioned the user 
		*B is displayed in the stream "My activities" of the user B		*/ 
		acc.signIn(DATA_USER4, DATA_PASS);
		mMember.goToMySpacePage();
		mMember.acceptInvitation(spaceName);
		nav.goToHomePage();
		selectFileter("My Activities");
		waitForAndGetElement(ELEMENT_USER_MENTION_BY_OTHER_USER.replace("${author}",user).replace("${userName}", user1));
		
		//remove data
		acc.signOut();
		acc.signIn(DATA_USER1, DATA_PASS);
		mMember.goToAllSpaces();
		mMember.deleteSpace(spaceName);
 	}

	/**
	* Case ID:77671.
	* Test Case Name: Mention a non member from a space should push the activity in "My Activities" of the mentioned user.
	* Pre-Condition: User A is a member of the space "Test"User B isn't a member of the space "Test"
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=7)
	public  void test05_MentionANonMemberFromASpaceShouldPushTheActivityInMyActivitiesOfTheMentionedUser() {
		info("Test 5: Mention a non member from a space should push the activity in My Activities of the mentioned user");
		String spaceName = "space77671";
		
		mMember.goToMySpacePage();
		mMember.addNewSpace(spaceName,"");
		goToMembers(spaceName);
		spaceMan.goToSpaceMenu("Activity Stream");
		/*
		- Connect to Intranet/Homepage with User A
		- Open the space "Test"
		- Post and activity where User B is mentioned
		*Input Data: 
		*Expected Outcome: The activity is added to the stream of the space and the User B is mentioned		*/

		mentionActivity(true,"",user1);
		acc.signOut();
		/*
		- Connect to Intranet/Homepage with User B
		- Open the stream [My activities]
		*Input Data: 
		*Expected Outcome: Tha activity where the user A has mentioned the user B is displayed in the stream "My activities" of the user B		*/ 
		
		acc.signIn(DATA_USER4, DATA_PASS);
		nav.goToHomePage();
		selectFileter("My Activities");
		waitForAndGetElement(ELEMENT_USER_MENTION_BY_OTHER_USER.replace("${author}",user).replace("${userName}", user1));
		
		//remove data
		acc.signOut();
		acc.signIn(DATA_USER1, DATA_PASS);
		mMember.goToAllSpaces();
		mMember.deleteSpace(spaceName);
 	}

	/**
	* Case ID:77672.
	* Test Case Name: Mention a non member in a comment from a space should push the activity in "My Activities" of the mentioned user..
	* Pre-Condition: User A is member of "Test"User B isn't a member of the space "Test"
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=8)
	public  void test06_MentionANonMemberInACommentFromASpaceShouldPushTheActivityInMyActivitiesOfTheMentionedUser() {
		info("Test 6: Mention a non member in a comment from a space should push the activity in My Activities of the mentioned user.");
		String spaceName = "space77672";
		String text = "New activity";
		
		mMember.goToMySpacePage();
		mMember.addNewSpace(spaceName,"");
		goToMembers(spaceName);
		spaceMan.goToSpaceMenu("Activity Stream");
		/*
		- Connect to Intranet/Homepage with User A
		- Open the space "Test"
		- add a comment to an activity with a mention to the User B
		*Input Data: 
		*Expected Outcome: The comment is added to the activity to the stream of the space and the User B is mentioned		*/
		addActivity(true, text, false, "");
		mentionActivity(false,text,user1);
		acc.signOut();
		/*
		- Connect to Intranet/Homepage with User B
		- Open the stream [My activities]
		*Input Data: 
		*Expected Outcome: Tha activity where the user A has mentioned the user B is displayed in the stream "My activities" of the user B		*/ 
		acc.signIn(DATA_USER4, DATA_PASS);
		nav.goToHomePage();
		selectFileter("My Activities");
		waitForAndGetElement(ELEMENT_USER_NAME_LINK_COMMENT.replace("${activityText}", text).replace("${userName}", user1));
		
		//remove data
		acc.signOut();
		acc.signIn(DATA_USER1, DATA_PASS);
		mMember.goToAllSpaces();
		mMember.deleteSpace(spaceName);
 	}



	/**
	* Case ID:77673.
	* Test Case Name: Mention from comment in user activity stream should push the activity in "My Activities" of mentioned user.
	* Pre-Condition: 
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	*  Bug:
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=9)
	public  void test07_MentionFromCommentInUserActivityStreamShouldPushTheActivityInMyActivitiesOfMentionedUser() {
		info("Test 7: Mention from comment in user activity stream should push the activity in My Activities of mentioned user");
		String text = "New activity99";
		/*
		- Connect to Intranet/Homepage with User A
		- Go to [My Profile] and choose [Activity stream] tab
		- Add a comment to an activity from the stream with a mention to the User B
		*Input Data: 
		*Expected Outcome: The comment is added in the activity stream "Activity stream"		*/
		goToActivityStream();
		addActivity(true, text, false, "");
		mentionActivity(false,text,user1);
		acc.signOut();

		/*
		- Connect to Intranet/Homepage with User B
		- Open the stream [My activities]
		*Input Data: 
		*Expected Outcome: Tha activity where the user A has mentioned the user B is displayed in the stream "My activities" of the user B		*/ 
		acc.signIn(DATA_USER4, DATA_PASS);
		nav.goToHomePage();
		selectFileter("My Activities");
		waitForAndGetElement(ELEMENT_USER_NAME_LINK_COMMENT.replace("${activityText}", text).replace("${userName}", user1));
		
		//remove data
		acc.signOut();
		acc.signIn(DATA_USER1, DATA_PASS);
		goToActivityStream();
		home.deleteActivity(text);
 	}



	/**
	* Case ID:77674.
	* Test Case Name: Mention from user activity stream should push the activity in "My Activities" of the mentioned user.
	* Pre-Condition: 
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=2)
	public  void test08_MentionFromUserActivityStreamShouldPushTheActivityInMyActivitiesOfTheMentionedUser() {
		info("Test 8: Mention from user activity stream should push the activity in My Activities of the mentioned user");
		/*
		- Connect to Intranet/Homepage with User A
		- From my profile, open the stream "Activity stream"
		- Post an activity and mention the User B
		*Input Data: 
		*Expected Outcome: The activity is added in the activity stream "Activity stream"		*/
		goToActivityStream();
		mentionActivity(true,"",user1);
		acc.signOut();

		/*
		- Connect to Intranet/Homepage with User B
		- Open the stream "My activities"
		*Input Data: 
		*Expected Outcome: Tha activity where the user A has mentioned the user B is displayed in the stream "My activities" of the user B		*/ 
		acc.signIn(DATA_USER4, DATA_PASS);
		nav.goToHomePage();
		selectFileter("My Activities");
		waitForAndGetElement(ELEMENT_USER_MENTION_BY_OTHER_USER.replace("${author}",user).replace("${userName}", user1));
		
		//remove data
		acc.signOut();
		acc.signIn(DATA_USER1, DATA_PASS);
		goToActivityStream();
 	}



	/**
	* Case ID:77676.
	* Test Case Name: Comment on someone else's activity.
	* Pre-Condition: 
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=1)
	public  void test09_CommentOnSomeoneElsesActivity() {
		info("Test 9: Comment on someone else's activity");
		String text="New Activity";
		String comment = "New comment";
		addActivity(true, text, false, "");
		nav.goToConnectionPage();
		pConn.connectPeople(user1);
		acc.signOut();
		/*
		- Connect to Intranet
		- Click [Connections]
		- Select an user in list and click on name of it
		- Choose [Activity Stream] tab
		- Add a comment to an activity posted
		*Input Data: 
		*Expected Outcome: 
		- The comment is added to the activity		*/
		acc.userSignIn(userType.DEVELOPER);
		nav.goToConnectionPage();
		pConn.acceptInvitation(user);
		click(By.linkText(user));
		waitForAndGetElement(ELEMENT_MY_PROFILE_TAB);
		click(ELEMENT_MY_ACTIVITY_STREAM_TAB);
		waitForAndGetElement(ELEMENT_ACTIVITY_STREAM);
		addComment(text, comment);
		/*
		- Switch to the stream [My activities]
		*Input Data: 
		*Expected Outcome: The activity commented is displayed in the stream "My activities"		*/ 

		nav.goToHomePage();
		selectFileter("My Activities");
		waitForAndGetElement(home.ELEMENT_ACTIVITY_COMMENT_CONTENT.replace("${title}", text).replace("${comment}", comment));
	

		//remove data
		acc.signOut();		
		acc.userSignIn(userType.ADMIN);
		home.deleteActivity(text);
		pConn.removeConnection(user1);
 	}



	/**
	* Case ID:77680.
	* Test Case Name: Comment on my activity from "My Activity stream".
	* Pre-Condition: User have an activity on "My Activity Stream"
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=0)
	public  void test10_CommentOnMyActivityFromMyActivityStream() {
		info("Test 10 Comment on my activity from My Activity stream");
		String text="New Activity";
		String comment = "New comment";
		/*
		- Connect to Intranet/Homepage
		- Go to [My Activity Stream]
		- Add comment on activity
		*Input Data: 
		*Expected Outcome: 
		- The comment is added to the activity		*/
		goToActivityStream();
		addActivity(true, text, false, "");
		addComment(text, comment);
		/*
		- Back to the homepage
		- Switch to the stream [My activities]
		*Input Data: 
		*Expected Outcome: The activity commented is displayed in the stream "My activities"		*/ 
		nav.goToHomePage();
		selectFileter("My Activities");
		waitForAndGetElement(home.ELEMENT_ACTIVITY_COMMENT_CONTENT.replace("${title}", text).replace("${comment}", comment));
		goToActivityStream();
		home.deleteActivity(text);
 	}



	/**
	* Case ID:77682.
	* Test Case Name: Activity liked from my activity stream should be visible in "My Activities".
	* Pre-Condition: 
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=11)
	public  void test11_ActivityLikedFromMyActivityStreamShouldBeVisibleInMyActivities() {
		info("Test 11 Activity liked from my activity stream should be visible in My Activities");
		String text="New Activity88";
		/*
		- Connect to intranet/Homepage
		- Choose [My Activity Stream] filter
		- Add an activity from [My Activity] stream
		- Click [Like] icon on activity
		*Input Data: 
		*Expected Outcome: 
		- The "Like" is added to the activity		*/
		selectFileter("My Activities");
		addActivity(true, text, false, "");
		home.likeOrUnlikeActivity(text);
		/*
		- Back to the Homepage
		- Switch to the stream "My activities"
		*Input Data: 
		*Expected Outcome: The activity commented is displayed in the stream "My activities"		*/ 
		nav.goToHomePage();
		selectFileter("My Activities");
		waitForActivityPresent(text, true);
	
		home.deleteActivity(text);
 	}

	/**
	* Case ID:77683.
	* Test Case Name: Activity posted from my activity stream  should be visible in "My Activities".
	* Pre-Condition: 
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=12)
	public  void test12_ActivityPostedFromMyActivityStreamShouldBeVisibleInMyActivities() {
		info("Test 12 Activity posted from my activity stream  should be visible in My Activities");
		String text="New Activity66";
		/*
		- Connect to Intranet
		- Go to [My Profile]
		- Choose [My Activity Stream]
		- Post an activity in the stream 
		*Input Data: 
		*Expected Outcome: The activity is added to the stream "Activity stream"		*/

		goToActivityStream();
		addActivity(true, text, false, "");
		/*
		- Back to the homepage
		- Switch to the stream [My activities]
		*Input Data: 
		*Expected Outcome: The activity is displayed in the stream "My activities"		*/ 
		nav.goToHomePage();
		selectFileter("My Activities");
		waitForActivityPresent(text, true);
		goToActivityStream();
		home.deleteActivity(text);
 	}

	/**
	* Case ID:77684.
	* Test Case Name: Activity posted from a space should be visible in "My activities".
	* Pre-Condition: 
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=13)
	public  void test13_ActivityPostedFromASpaceShouldBeVisibleInMyActivities() {
		info("Test 13 Activity posted from a space should be visible in My activities");
		String spaceName = "Test";
		String text = "New activity";
		/*
		- Connect to Intranet
		- Click [join a space]
		- Add new space
		*Input Data: 
		*Expected Outcome: 
		- Add new space successfully		*/
		
		mMember.goToMySpacePage();
		mMember.addNewSpace(spaceName,"");
		

		/*
		- Open a space
		- Post an activity in the stream of the space
		*Input Data: 
		*Expected Outcome: The activity is added to the stream of the space		*/
		goToMembers(spaceName);
		spaceMan.goToSpaceMenu("Activity Stream");
		addActivity(true, text, false, "");
		mentionActivity(false,text,user1);
		/*
		- Go to home page
		- Switch to the stream [My activities]
		*Input Data: 
		*Expected Outcome: The activity is displayed in the stream "My activities"		*/ 

		nav.goToHomePage();
		selectFileter("My Activities");
		waitForActivityPresent(text, true);
		
		//remove data
		mMember.goToAllSpaces();
		mMember.deleteSpace(spaceName);
 	}

	/**
	* Case ID:77692.
	* Test Case Name: Not Display the dropdown list of stream in User's activity stream.
	* Pre-Condition: 
	* Post-Condition: 
	* Done with OSs and browsers : 
	* + plfent-4.0.x-20131118.122516-366 & FF22 
	* + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=14)
	public  void test14_NotDisplayTheDropdownListOfStreamInUsersActivityStream() {
		info("Test 14 Not Display the dropdown list of stream in User's activity stream");
		/*
		- Connect to Intranet
		- Choose [My activities stream] on UserPlatformToolBarPortlet
		*Input Data: 
		*Expected Outcome: 
		- The User's activity stream is displayed
		- The dropdown list of stream isn't displayed		*/ 
		goToActivityStream();
		waitForAndGetElement(ELEMENT_ACTIVITY_STREAM);
		waitForElementNotPresent(ELEMENT_ACTIVITY_DROPDOWN);

 	}

	/**
	* Case ID:77696.
	* Test Case Name: Add Comment to an activity on activity stream of other user.
	* Pre-Condition: User A and User are  connected in Intranet
	* Post-Condition: 
	* Done with OSs and browsers : 
	*  + plfent-4.0.x-20131118.122516-366 & FF22 
	*  + plfent-4.1.0-20131218.102100-253 & FF22 
	* Generated by khanhnt at 2013/12/20 17:18:01
	*/
	@Test(priority=15)
	public  void test15_AddCommentToAnActivityOnActivityStreamOfOtherUser() {
		info("Test 15 Add Comment to an activity on activity stream of other user");
		String text="New Activity";
		nav.goToConnectionPage();
		pConn.connectPeople(user1);
		acc.signOut();
		/*
		- Connect to Intranet with user A
		- From [Connexions], click on the name of the user B
		- Go to [Activities stream]
		- Add a comment to an activity
		*Input Data: 
		*Expected Outcome: 
		- The comment is added to the activity of the user B		*/ 

		acc.userSignIn(userType.DEVELOPER);
		nav.goToConnectionPage();
		pConn.acceptInvitation(user);
		nav.goToConnectionPage();
		click(By.linkText(user));
		mMember.goToActivityStream();
		addActivity(true, text, false, "");
		/*
		- Switch to the stream [My activities]
		*Input Data: 
		*Expected Outcome: The activity commented is displayed in the stream "My activities"		*/ 
		acc.signOut();
		acc.signIn(DATA_USER1, DATA_PASS);
		nav.goToHomePage();
		waitForActivityPresent(text, true);
		
		//remove data
		acc.signOut();
		acc.userSignIn(userType.DEVELOPER);
		goToActivityStream();
		home.deleteActivity(text);
		pConn.removeConnection(user);
 	}
}